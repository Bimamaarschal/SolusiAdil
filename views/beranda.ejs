<!doctype html>
<html class="no-js" lang="bimamaarschal">

<%- include('partials/head') %>

	<body>

		<%- include('partials/header2', { activePage: 'beranda' }) %>

			<section class="news-single section" style="padding-top: 5px;">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 col-2">
							<div class="row">
								<div class="col-12">
									<div class="comments-form">
										<h1 style="font-size: 18px;"><i class="fa-solid fa-compass"></i> Dashboard</h1>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-8 col-6">
							<div class="row">
								<div class="col-12">
									<div class="comments-form">
										<h1 style="font-size: 18px; ">Pelayanan Solusi Adil</h1>
										<div class="chart-container"
											style="margin: 0px; padding: 0px; padding-top:25px; ">
											<canvas style="margin: 0px; padding: 0px;" id="statusChart1"></canvas>
											<canvas style="margin: 0px; padding: 0px;" id="statusChart2"></canvas>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-12">
							<div class="main-sidebar">
								<div class="single-widget recent-post">
									<h3 class="title">Anda Masuk Sebagai </h3>
									<div class="single-post">
										<div class="image">
											<img src="img/favicon.png" alt="#">
										</div>
										<div class="content">
											<h5 style="font-size: 12px;"><a href="#">
													<%= nama %>
												</a></h5>
											<ul class="comment" style="font-size: 12px;">
												<li><i class="fa-solid fa-address-card" aria-hidden="true"></i> ID :
													<%= idMasyarakat %>
												</li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section class="solusiadil-fitur" style="padding-top: 100px;">
				<div class="container">
					<div class="solusiadil-fitur-inner">
						<div class="row">
							<div class="col-lg-4 col-md-6 col-12 ">
								<div class="solusiadil-fitur-single first">
									<div class="inner">
										<div class="icon">
											<i class="fa-solid fa-scale-balanced"></i>
										</div>
										<div class="single-content">
											<h4>Konsultasi Hukum Online</h4>
											<p style="font-size: 12px;">Konsultasi Hukum Online: Solusi cepat dan akurat
												untuk
												setiap permasalahan hukum
												Anda.</p>
											<a href="/konsultasi">Pilih Fitur<i class="fa fa-long-arrow-right"></i></a>
										</div>
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-6 col-12">
								<div class="solusiadil-fitur-single middle">
									<div class="inner">
										<div class="icon">
											<i class="fa-solid fa-gavel"></i>
										</div>
										<div class="single-content">
											<h4>Cari Panduan Hukum</h4>
											<p style="font-size: 13px;">Temukan Kepastian Hukum Anda: Cari Panduan Hukum
												yang
												Jelas dan Terpercaya di
												Sini.</p>
											<a href="/panduan">Pilih Fitur<i class="fa fa-long-arrow-right"></i></a>
										</div>
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-12 col-12">
								<div class="solusiadil-fitur-single last">
									<div class="inner">
										<div class="icon">
											<i class="fa-solid fa-folder-open"></i>
										</div>
										<div class="single-content">
											<h4>JDIH</h4>
											<p style="font-size: 12px;">Jelajahi keadilan dan informasi hukum melalui
												JDIH,
												pintu akses utama untuk
												pemahaman dan kepatuhan hukum.</p>
											<a href="/jdih">Pilih Fitur<i class="fa fa-long-arrow-right"></i></a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section class="Solusiadil-kenapa section-kenapa">
				<div class="container">
					<div class="row">
						<div class="col-lg-12">
							<div class="section-title">
								<h2 style="font-size: 28px;">Kenapa Solusi Adil</h2>
								<i class="fa-solid fa-scale-balanced"></i>
								<p style="font-size: 12px;">Solusi adil memberikan keadilan sejati, menyelaraskan hak
									dan
									kewajiban untuk mewujudkan
									penyelesaian yang berkeadilan.</p>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-4 col-12">
							<div class="solusiadil-single-kenapa">
								<div class="signle-icon">
									<i class="fa-solid fa-lock"></i>
								</div>
								<h3 style="font-size: 15px;">Aman</h3>
								<p style="font-size: 12px;">Solusi Adil menjamin keamanan informasi pribadi Anda. Data
									klien
									dijaga secara ketat melalui
									protokol keamanan digital terkini.</p>
							</div>
						</div>
						<div class="col-lg-4 col-12">
							<div class="solusiadil-single-kenapa">
								<div class="signle-icon">
									<i class="fa-solid fa-rocket"></i>
								</div>
								<h3 style="font-size: 15px;">Cepat</h3>
								<p style="font-size: 12px;">Solusi Adil menyediakan respon cepat terhadap pertanyaan
									hukum atau
									permintaan bantuan Anda.
								</p>
							</div>
						</div>
						<div class="col-lg-4 col-12">
							<div class="solusiadil-single-kenapa last">
								<div class="signle-icon">
									<i class="fa-solid fa-star"></i>
								</div>
								<h3 style="font-size: 15px;">Terpercaya</h3>
								<p style="font-size: 12px;">Setiap informasi atau panduan yang diberikan berasal dari
									sumber-sumber yang dapat dipercaya.
								</p>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section class="Solusiadil-kenapa section-kenapa">
				<div class="container" style="background-color: black; ">
					<div class="row">
						<div class="col-lg-12">
							<div class="section-title" style="padding-top: 35px; color: azure;">
								<i class="fa-solid fa-quote-right"></i>
								<p style="color: azure;">Keadilan, kebenaran, kebebasan, itulah pangkal dari
									kebahagiaan.</p>
								<p style="color: rgba(240, 255, 255, 0.884);">Plato</p>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section class="solusiadil-galeri section-galeri">
				<div class="container">
					<div class="row">
						<div class="col-lg-12">
							<div class="section-title">
								<h2 style="font-size: 28px;">Galeri</h2>
								<p style="font-size: 13px;">Kami membantu masyarakat untuk menyelesaiakan perkara hukum
								</p>
							</div>
						</div>
					</div>
				</div>
				<div class="container-fluid">
					<div class="row">
						<div class="col-lg-12 col-12">
							<div class="owl-carousel solusiadil-galeri-slider">
								<div class="single-pf">
									<img src="img/g (11).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (12).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (1).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (7).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (8).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (2).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (3).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (6).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (5).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (4).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (9).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (10).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (13).jpg" alt="#">
								</div>
								<div class="single-pf">
									<img src="img/g (14).jpg" alt="#">
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<div class="infoberita">
				<div id="marquee-container"></div>
			</div>

			<%- include('partials/footer') %>
				<%- include('partials/js') %>
					<script>
						const apiUrl1 = 'https://solusiadil-api.vercel.app/konsultasi';
						const apiUrl2 = 'https://solusiadil-api.vercel.app/blogs';
						const apiUrlBerita = 'https://solusiadil-api.vercel.app/berita';

						async function fetchChartData(apiUrl) {
							try {
								const response = await fetch(apiUrl);
								const data = await response.json();
								return data;
							} catch (error) {
								console.error('Error fetching data:', error);
								return null;
							}
						}

						async function createChart(apiUrl, ctx, labels, backgroundColors) {
							const data = await fetchChartData(apiUrl);
							if (!data) return;
							const statusCounts = labels.reduce((acc, label) => {
								acc[label.toLowerCase()] = 0;
								return acc;
							}, {});
							Object.values(data).forEach(item => {
								if (statusCounts.hasOwnProperty(item.status.toLowerCase())) {
									statusCounts[item.status.toLowerCase()]++;
								}
							});
							const chartData = {
								labels: labels,
								datasets: [{
									label: 'Status',
									data: labels.map(label => statusCounts[label.toLowerCase()]),
									backgroundColor: backgroundColors
								}]
							};
							const config = {
								type: 'pie',
								data: chartData,
								options: {
									responsive: true,
									maintainAspectRatio: false,
									plugins: {
										legend: {
											display: true,
											position: 'top',
											labels: {
												padding: 0,
												boxWidth: 20,
												font: {
													size: 12
												}
											}
										}
									},
									layout: {
										padding: {
											top: 0,
											bottom: 0,
											left: 0,
											right: 0
										}
									}
								}
							};
							new Chart(ctx, config);
						}

						document.addEventListener('DOMContentLoaded', () => {
							createChart(apiUrl1, document.getElementById('statusChart1').getContext('2d'), ['Selesai', 'Diproses', 'Selesai'], ['#FF6384', '#36A2EB', '#FFCE56']);
							createChart(apiUrl2, document.getElementById('statusChart2').getContext('2d'), ['Dikirim', 'Diterima', 'Menunggu'], ['#4BC0C0', '#FF9F40', '#9966FF']);
							fetchMarqueeData();
						});

						async function fetchMarqueeData() {
							const kontainerMarquee = document.getElementById('marquee-container');
							kontainerMarquee.textContent = 'Mohon tunggu, sedang memproses pengambilan data...';
							try {
								const respons = await fetch(apiUrlBerita);
								const data = await respons.json();
								const beritaList = Object.values(data).map(item => `(${item.tag}) ${item.judul}`).join(' ğŸŒ ');
								kontainerMarquee.innerHTML = `<marquee>${beritaList}</marquee>`;
							} catch (error) {
								console.error('Kesalahan data:', error);
								kontainerMarquee.textContent = 'Terjadi kesalahan saat mengambil data.';
							}
						}
					</script>

	</body>

</html>