<!doctype html>
<html class="no-js" lang="bimamaarschal">

<%- include('../partials/head') %>

	<body>
		<%- include('../partials/header2', { activePage: 'blog' }) %>
			<div class="textawal overlay">
				<div class="container">
					<div class="textawal-inner">
						<div class="row">
							<div class="col-12">
								<h2 style="font-size: 25px; font-weight: 100;">Blog Hukum Pilihan</h2>
							</div>
						</div>
					</div>
				</div>
			</div>

			<section class="blog section" id="blog">
				<div class="container">
					<div class="row">
						<% blogData.forEach(blog=> { %>
							<div class="col-lg-4 col-md-6 col-12 solusiadil-padblog">
								<div class="solusiadil-single-blog">
									<div class="solusiadil-head-blog">
										<img src="blog/1.png" alt="#">
									</div>
									<div class="solusiadil-body-blog">
										<div class="solusiadil-content-blog">
											<div class="date">
												<%= blog.tanggal %>
											</div>
											<h2><a href="bacablog?id_blog=<%= blog.id_blog %>">
													<%= blog.judul %>
												</a></h2>
											<p class="text">
												<%= blog.nama_apph %>
											</p>
										</div>
									</div>
								</div>
							</div>
							<% }); %>
					</div>
				</div>
			</section>
			<div class="infoberita">
				<div id="marquee-container"></div>
			</div>
			<%- include('../partials/footer') %>
			<%- include('../partials/js') %>
			<script>
				const apiUrlBerita = 'https://solusiadil-api.vercel.app/berita';
				async function fetchMarqueeData() {
					const kontainerMarquee = document.getElementById('marquee-container');
					kontainerMarquee.textContent = 'Mohon tunggu, sedang memproses pengambilan data...';
					try {
						const respons = await fetch(apiUrlBerita);
						const data = await respons.json();
						const beritaList = Object.values(data).map(item => `(${item.tag}) ${item.judul}`).join(' üåê ');
						kontainerMarquee.innerHTML = `<marquee>${beritaList}</marquee>`;
					} catch (error) {
						console.error('Kesalahan data:', error);
						kontainerMarquee.textContent = 'Terjadi kesalahan saat mengambil data.';
					}
				}
				document.addEventListener('DOMContentLoaded', fetchMarqueeData);
			</script>
	</body>
</html>